<!-- @@include('../assets/_header.tpl', {"title": "Bubble Chart"}) -->

    <div class="container">
        <div class="buttons">
            <button onclick="randomSize('bubble-chart')">RANDOM SIZE</button>
            <label>State:</label>
            <button onclick="setState()">SET STATE (WORLD - 2000)</button>
            <button onclick="changeIndicator()">LEX (SWE, NOR - 2007)</button>
            <label>Language:</label>
            <button onclick="setLanguage('bubble-chart','en')">ENGLISH</button>
            <button onclick="setLanguage('bubble-chart','pt')">PORTUGUESE</button>
        </div>

        <div id="bubble-chart" class="placeholder"></div>

    </div>
    <div class="aux">
        <p>Current State:</p>
        <pre id="state" class="json_box" contentEditable="true"></pre>
        <button onclick="setCurrentState('bubble-chart')">SET STATE</button>
        <p>Current Query:</p>
        <pre id="query" class="json_box"></pre>
    </div>
</body>
<script>
var options = {
    //state
    state: {
        entity: ['country/swe', 'country/nor', 'country/fin'],
        timeRange: ["2000-2009"],
        time: 2005,
        indicator: ['lex', 'gdp', 'pop'],
        scale: ['linear', 'linear', 'linear'],
        unit: [1,1000000, 1]
    },
    //path
    data: {
        reader: 'local-json',
        path: '../../data-waffles/hello-world/{{LANGUAGE}}/waffle.json'
    },

    //language
    language: "en",
    ui_strings: {
        en: {
            "title": "Table Title",
            "timeslider/play": "Play",
            "timeslider/pause": "Pause"
        },
        pt: {
            "title": "TÃ­tulo da Tabela",
            "timeslider/play": "Iniciar",
            "timeslider/pause": "Parar"
        }
    },

    bind: {
        'change:state': function(state) {
            showState(state);
        },
        'change:query': function(query) {
            showQuery(query);
        }
    }
};

var myVizabi = new Vizabi("bubble-chart", "#bubble-chart", options);

function setState() {
    var newOption = {
        state: {
            entity: ['planet/world'],
            time: 2000,
            indicator: ['lex', 'gdp', 'pop'],
            scale: ['linear', 'log', 'linear'],
            unit: [1, 1000000, 1]
        }
    };
    myVizabi.setOptions("#bubble-chart", newOption);
}

function changeIndicator() {
    var newOption = {
        state: {
            entity: ['country/swe', 'country/nor'],
            time: 2007,
            indicator: ['pop', 'lex', 'gdp'],
            scale: ['linear', 'linear', 'log'],
            unit: [1, 1, 1000000]
        }
    };
    myVizabi.setOptions("#bubble-chart", newOption);
}
</script>

<!-- @@include('../assets/_footer.tpl') -->