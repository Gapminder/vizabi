<!-- @@include('../assets/_header.tpl', {"title": "Axis labeler"}) -->

<div class="container">
       <div class="buttons">

        <div id="dropdown-size" class="wrapper-dropdown" tabindex="1">
            <span>Size</span>
            <ul class="dropdown">
                <li><a onclick="phoneSize('axis-labeler')">Mobile Portrait</a>
                </li>
                <li><a onclick="phoneSize('axis-labeler', 'landscape')">Mobile Landscape</a>
                </li>
                <li><a onclick="randomSize('axis-labeler')">Random Size</a>
                </li>
                <li><a onclick="fullSize('axis-labeler')">Full Screen</a>
                </li>
            </ul>
        </div>

        <button onclick="randomSize('axis-labeler')">RANDOM</button>

        <label>|</label>

        <div id="dropdown-number" title="axis domain" class="wrapper-dropdown" tabindex="1">
            <span id="listLabel">Set axis domain</span>
            <ul class="dropdown automaticListOfOptions">

            </ul>
        </div>
        <div id="dropdown-number" title="X axis type" class="wrapper-dropdown" tabindex="1">
            <span>X type</span>
            <ul class="dropdown">
                <li><a onclick="setType('linear', 'x')">X linear</a></li>
                <li><a onclick="setType('log', 'x')">X log</a></li>
                <li><a onclick="setType('genericLog', 'x')">X generic log</a></li>
            </ul>
        </div>
        <div id="dropdown-number" title="Y xis type" class="wrapper-dropdown" tabindex="1">
            <span>Y type</span>
            <ul class="dropdown">
                <li><a onclick="setType('linear', 'y')">Y linear</a></li>
                <li><a onclick="setType('log', 'y')">Y log</a></li>
                <li><a onclick="setType('genericLog', 'y')">Y generic log</a></li>
            </ul>
        </div>


    </div>


    <div id="axis-labeler" class="placeholder"></div>

</div>
<div class="aux">
    <button onclick="shareLink()">SHARE LINK</button>

    <p>Current State:</p>
    <pre id="state" class="json_box" contentEditable="true"></pre>
    <button onclick="setCurrentState()">SET STATE</button>
</div>
</body>
<script>
var myVizabi;

$(function() {

    var playButton = $("#play_button");
    var languageButton = $("#language_button");

    var options = {
        //state
        state: url.state || {
            scales:{
                from: 1,
                to: 10000,
                xEps: 0.001,
                yEps: 0.001,
                xScaleType: 'linear',
                yScaleType: 'genericLog'
            }
        },

        //bind these events to external page
        bind: {
            'ready': function() {
                parseURL();
            },
            'change:state': function(evt, vals) {
                showState(vals.state);
            }
        }
    };

    myVizabi = new Vizabi("_examples/axis-labeler", "#axis-labeler", options);
    showState(options.state);
});


function setDomain(from, to) {
    var options = { state: { scales: {} }};
    options.state.scales.from = +from;
    options.state.scales.to = +to;
    myVizabi.setOptions(options);
};

function setType(type, axis) {
    var options = { state: { scales: {} }};
    options.state.scales[axis+"ScaleType"] = type;
    myVizabi.setOptions(options);
}

var listPointer = 0;
var listData = [
    {from: 1.00000, to: 10000.0},
    {from: 4.00000, to: 123.000},
    {from: 0.00060, to: 123.000},
    {from: 123.000, to: 4.00000},
    {from: 123.000, to: 0.00060},
    {from: -123.00, to: -4.0000},
    {from: -123.00, to: -0.0006},
    {from: -4.0000, to: -123.00},
    {from: -0.0006, to: -123.00},
    {from: -123.00, to: 1800.00},
    {from: 1800.00, to: -123.00},
    {from: 123.000, to: -18000.},
    {from: -18000., to: 123.000},
    {from: -0.0006, to: 1800.00},
    {from: 1800.00, to: -0.0006},
    {from: 0.00060, to: -1800.0},
    {from: -1800.0, to: 0.00060},
    {from: -12.000, to: -2.0000},
    {from: -80.000, to: 40.0000},
    {from: 5.00000, to: 8.00000},
    {from: 42.0000, to: 42.0000},
    {from: 0.00000000005, to: 4554545484715},
    {from: -2611968678575, to: 4554545484715},
    {from: -0.0020, to: 0.00200}

];

var list = $(".automaticListOfOptions");
listData.forEach(function(d,i){
    var el = $("<li><a>"+d.from + " -- " + d.to+"</a></li>")
        .on("click", function(){
            setDomain(d.from, d.to);
            listPointer = i;
            $("#listLabel").text(d.from + " -- " + d.to);
        })
        .appendTo(list);
})




window.onkeypress = function(e) {
    e = e || window.event;
    var charCode = (typeof e.which == "number") ? e.which : e.keyCode;
    if (String.fromCharCode(charCode) == "w" || String.fromCharCode(charCode) == "q") {
    if (String.fromCharCode(charCode) == "w") listPointer++;
    if (String.fromCharCode(charCode) == "q") listPointer--;
        if(listPointer==listData.length)listPointer=0;
        if(listPointer==-1)listPointer=listData.length-1;

        var d = listData[listPointer];
        setDomain(d.from, d.to);
        $("#listLabel").text(d.from + " -- " + d.to);
    }
};

</script>

<!-- @@include('../assets/_footer.tpl') -->
